setwd("~/GitHub/Projekt2_statestik")
library(rwunderground)
load("./WUndergroundHourly.RData")
View(WG)
summary(WG)
# Remove all coloumns without data (only NA columns)
Clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
#### Introduction ####
rm(list=ls())
library(tidyverse)
library(ggplot2)
library(car)
load("./WUndergroundHourly.RData")
summary(WG)
# Remove all coloumns without data (only NA columns)
Clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
str(Clima)
summary(Clima)
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
str(clima)
summary(WG)
str(clima)
clima[c('Date','Time')] <- str_split_fixed(clima$date,' ',2)
View(clima)
#### Introduction ####
rm(list=ls())
library(tidyverse)
library(ggplot2)
library(car)
library(stringr)
load("./WUndergroundHourly.RData")
summary(WG)
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
clima[c('Date','Time')] <- str_split_fixed(clima$date,' ',2)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow)
)
View(clima)
# removing old date
clima <- select(clima, !"date")
View(clima)
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
str(clima)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date)
)
summary(clima)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
time = as.Date(time)
)
summary(clima)
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
time = as.Date(time)
)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
clima
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
time = as.Date(time, "%h:%m:%s")
)
clima
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
#clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date)
)
clima
#### Introduction ####
rm(list=ls())
library(tidyverse)
library(ggplot2)
library(car)
library(stringr)
load("./WUndergroundHourly.RData")
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
#clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date)
)
clima
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
time = as.Date(time,"%h:%m:%s")
)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
time = as.Date(time,"h:m:s")
)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
time = as.Date(time,"H:M:S")
)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
time = as.Date(time,"%H:%M:%S")
)
clima$time
load("./WUndergroundHourly.RData")
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
clima
mutate(clima, time = as.Date(time, "%H:%M:%S))
.d
d)
mutate(clima, time = as.Date(time, "%H:%M:%S"))
mutate(clima, time = as.Date(time, "%H:%M:%S"))
mutate(clima, time = as.Date(time, "%H:%M:%S"))
clima
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
#clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.Date(date),
ti
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = as.POSIXct(DateTime2,format="%m/%d/%Y %H:%M:%S",tz=Sys.timezone())
)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = factor(date),
time = factor(time)
)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = factor(date)
)
clima
str(clima)
#### Introduction ####
rm(list=ls())
library(tidyverse)
library(ggplot2)
library(car)
library(stringr)
load("./WUndergroundHourly.RData")
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = factor(date),
time = factor(time)
)
clima
str(clima)
View(clima)
clima$dir[clima$dir == ""]
clima$dir[clima$dir == "East"]
clima$dir[clima$dir == ""] <- "Na"
clima$dir[clima$dir == ""] <- "Nad"
clima$dir[clima$dir == ""] <- "NaN"
clima$dir[clima$dir == "East"]
clima$dir[clima$dir == "East"] <- Hej
clima$dir[clima$dir == ""] <- Hej
clima$dir[clima$dir == ""] <- "hejsa"
str(clima)
str(clima$dir)
clima$dir[clima$dir == "East"]
clima$dir[clima$dir == "ENE"]
clima$dir[clima$dir == "NA"]
clima$dir[clima$dir == "NA"] <- "NaN"
clima["dir"][clima["dir"] == "NA"] <- NaN
stri(clima)
str(clima)
View(clima)
#### Introduction ####
rm(list=ls())
library(tidyverse)
library(ggplot2)
library(car)
library(stringr)
load("./WUndergroundHourly.RData")
# Remove all coloumns without data (only NA columns)
clima <- select(WG,!c("wind_gust","wind_chill","heat_index","precip","precip_rate","precip_total"))
# Remove columns with fixed values
clima <- select(clima, !c("hail","thunder","tornado"))
#formatting data
clima[c('date','time')] <- str_split_fixed(clima$date,' ',2)
# Picking the correct datatype for the columns
clima <- mutate(clima,
dir  = factor(dir),
cond = factor(cond),
fog  = factor(fog),
rain = factor(rain),
snow = factor(snow),
date = factor(date),
time = factor(time)
)
clima_by_date <- group_by(clima, date)
summarise(clima_by_date,
mean(temp, na.rm = T),
mean(dew_pt, na.rm = T),
mean(hum, na.rm = T),
mean(wind_spd, na.rm = T),
mean(vis, na.rm = T),
mean(pressure, na.rm = T))
mode(clima_by_date$dir)
str(clima)
